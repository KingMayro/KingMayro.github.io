<!DOCTYPE html>
	<html lang="en">
	
	<head>
	
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
	
    <title>Browser Flipnote Frogs</title>
	<link rel="tab icon" href="https://kingmayro.github.io/Frog.png">
	<link rel="icon" href="https://kingmayro.github.io/Frog.ico">
	
	<meta property="og:title" content="Browser Flipnote Frogs - King Mayro"/>
	<meta property="og:description" content="A small little project to ''recreate'' the Flipnote frogs from the title screen of Flipnote Studio for the most part."/>
	<meta property="og:url" content="https://kingmayro.github.io/frogs"/>
	<meta property="og:image" content="https://kingmayro.github.io/image/frogembed.png"/>
	<meta name="twitter:card" content="summary_large_image">
	<meta data-react-helmet="true" name="theme-color" content="#cd532d"/>
	
    <style>
	
		@font-face {
		font-family: "Moving Flipbook Gallery";
		src: url("browserfrog/fonts/Moving Notepad Large UI Font.otf");
		}
	
		body {
		margin:0;
		image-rendering: -moz-crisp-edges;
        image-rendering: -webkit-optimize-contrast;
        image-rendering: crisp-edges;
        -ms-interpolation-mode: nearest-neighbor;
		image-rendering: pixelated;
		background-image: url('browserfrog/notepad.png');
		font-family:"Moving Flipbook Gallery";
		color: #cd532d;
		overflow: hidden;
		}
	
        main {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background-color: #f0f0f0;
            overflow: hidden;
            margin: 0;
        }
        .frog-container {
            position: absolute;
            width: 145px;
            height: 112px;
            top: 50%;
            transform: translateY(-50%);
        }
        .frog {
            width: 100%;
            height: 100%;
            position: absolute;
            user-select: none;
            -webkit-user-drag: none;
            -khtml-user-drag: none;
            -moz-user-select: none;
            -moz-user-drag: none; 
            -ms-user-select: none; 
            user-drag: none; 
        }
		
		    
		button {
		all: unset;
		cursor: pointer;
		}
		
		.verticalbutton {
		width: auto;
        height: 65px;
		}
		
		.verticalbutton:active {
		filter: brightness(77%);
		}
		
		.footerthing{
		position:fixed;
		bottom:0;
		background-color:white;
		width:100%;
		height: 87px;
		text-align:center;
		font-size:14px;
		}
		
		.footertext {
		padding:20px 20px 0px 10px;
		}

		.icons {
		border-radius: 600px;
		width: 200px;
		height: auto;
		float: left;
		}

		.name {
		font-size:20px;
		padding-top:30px;
		padding-left:30px;
		float: left;
		margin-bottom:0;
		}
		
		.socialicons {
		display: inline-flex;
		float: left;
		padding-left:50px;
		}
		
		.message-box {
        position: fixed;
        left: 50%;
        transform: translateX(-50%);
        background-color: #cd532d;
        padding: 10px 20px;
        display: none;
		border-radius: 5px;
		color:white;
        }
		
        .message-box.show {
        display: block;
        }
		
        .message-box p {
        margin: 20px;
        }
		
        .close-btn {
        position: absolute;
        top: 5px;
        right: 5px;
        cursor: pointer;
        }
		
body.dark-mode {
    background-image: url('browserfrog/notepadDark.png');
}

body.dark-mode .footerthing {
    background-color: #00070b !important;
}

body.dark-mode .message-box {
    background-color: #4abc23 !important;
}

		
		
		@media screen and (max-width: 1156px) {
		
			
			.footerthing{
			font-size:12px;
			}
			
		
		}
		
		
		
		
		@media screen and (max-width: 1006px) {
		
			body {
			
				background-image: url('browserfrog/notepadsmall.png');
			}
			
			body.dark-mode {
			background-image: url('browserfrog/notepadsmallDark.png');
			}	
				
			.footerthing{
			font-size:11px;
			}
			
			.verticalbutton {
			width: auto;
			height: 55px;
			}
			
			.frog-container {
            width: 125px;
            height: 99px;
			}
			
			.message-box {
			font-size:15px;
			}
			
			.icons {
			width: 150px;
			height: auto;
			}
			
			.name {
			font-size:18px;
			padding-top:0px;
			padding-left:0px;
			}

		
		}
		
		@media screen and (max-width: 750px) {
				
			.footerthing{
			height: 97px;
			text-align:center;
			font-size:10px;
			}
			
			.verticalbutton {
			width: auto;
			height: 45px;
			}
			
			.frog-container {
            width: 100px;
            height: 80px;
			}
			
			.message-box {
			left: 50%;
			width:300px;
			}
			
			.icons {
			width: 120px;
			height: auto;
			}

		
		}
		
		
			@media screen and (max-width: 650px) {
				
			.footerthing{
			height: 107px;
			}
			
			.frog-container {
            width: 76px;
            height: 60px;
			}
			
			.verticalbutton {
			width: auto;
			height: 54px;
			}
			
			.message-box {
			font-size:10px;
			}

		
		}
		
		
		
		@media screen and (max-width: 400px) {

			
			.verticalbutton {
			width: auto;
			height: 47px;
			}
		
		}
		
				@media screen and (max-width: 330px) {
				
			.footerthing{
			height: 111px;
			}
			
			.verticalbutton {
			width: auto;
			height: 41px;
			}
			
			.frog-container {
            width: 60px;
            height: 50px;
			}
		
		}
		
    </style>
	</head>
<body>

	<div class=footerthing></div>

	<div class=main>
	
    <div class="frog-container" id="frog-container-1">
        <img class="frog" src="browserfrog/Idle.png">
    </div>

    <div class="frog-container" id="frog-container-2">
        <img class="frog" src="browserfrog/Idle.png">
    </div>

    <div class="frog-container" id="frog-container-3" style="display:none;">
        <img class="frog" src="browserfrog/Idle.png">
    </div>
		
    </div>

	<div>
    <button id="toggleVerticalDragging"><img class=verticalbutton src="browserfrog/buttons/ToggleVertical.png"></img></button>
	<button id="darkModeToggle"><img class=verticalbutton src="browserfrog/buttons/ToggleDark.png"></img></button>	


   <div class="message-box" id="messageBox">
        <span class="close-btn" onclick="hideMessageBox()" style="white-space:pre-wrap;">X</span>
        <p>A small little project to ''recreate'' the Flipnote frogs from the title screen of Flipnote Studio for the most part. <br><br>Created by :</p>

	 <div>
			<div style="padding-left:10px;">
 
					<div style=text-align:center;>
 
						<img class=icons src="image/KingMayro.webp">
	
						<div style="display: flex;">
							<p class=name>King Mayro</p>
						</div>

					</div>
		
		
				<div class=socialicons>
					<a href="https://github.com/KingMayro"><img src="browserfrog/buttons/Github.png" alt="Github" style="width:50px; height:auto;"></a>
					<div style="padding-right:9px"> </div>  
					<a href="https://www.youtube.com/@KingMayro"><img src="browserfrog/buttons/YouTube.png" alt="YouTube" style="width:50px;height:auto;"></a>
					<div style="padding-left:8px"> </div> 
					<a href="https://famicomcd.github.io/"><img src="browserfrog/buttons/FamicomCD.png" alt="FamicomCD" style="width:50px; height:auto;"></a>
				</div>
			</div> 
		</div>

			<div style="padding-top:90px;">
			<p>Frog Graphics, General graphics, and font by King Mayro <br>Flipnote Studio by Nintendo
			</div>
			
    </div>


	<a href="https://kingmayro.github.io/" style="float:right;padding-left:5px;"><img class=verticalbutton src="browserfrog/buttons/Home.png"></img></a>	
	<button onclick="showMessageBox()" style="float:right;padding-left:5px;"><img class=verticalbutton src="browserfrog/buttons/Info.png"></img></button>		

	</div>
    <button id="refreshButton" style="display:none;" onclick="location.reload()"><img class=verticalbutton src="browserfrog/buttons/Refresh.png"></img></button>

 





    <script>

	
	

        function showMessageBox() {
            const messageBox = document.getElementById("messageBox");
            messageBox.classList.add("show");
        }

        function hideMessageBox() {
            const messageBox = document.getElementById("messageBox");
            messageBox.classList.remove("show");
        }

        const frogContainers = document.querySelectorAll('.frog-container');
        const frames = {
            facingRight: ['browserfrog/Right.png'],
            facingLeft: ['browserfrog/Left.png'],
            facingViewer: ['browserfrog/Idle.png']
        };

        const animations = {
            TurnLeft: [
                {src: "browserfrog/Idle.png", duration: 100},
                {src: "browserfrog/MidLeft.png", duration: 100},
                {src: "browserfrog/Left.png", duration: 100}
            ],
            TurnRight: [
                {src: "browserfrog/Idle.png", duration: 100},
                {src: "browserfrog/MidRight.png", duration: 100},
                {src: "browserfrog/Right.png", duration: 100}
            ],
            LeftReturn: [
                {src: "browserfrog/Left.png", duration: 100},
                {src: "browserfrog/MidLeft.png", duration: 100},
                {src: "browserfrog/Idle.png", duration: 100}
            ],
            RightReturn: [
                {src: "browserfrog/Right.png", duration: 100},
                {src: "browserfrog/MidRight.png", duration: 100},
                {src: "browserfrog/Idle.png", duration: 100}
            ],
            CroakLeft: [
                {src: "browserfrog/Left.png", duration: 100},
                {src: "browserfrog/MidCroakLeft.png", duration: 100},
                {src: "browserfrog/MaxCroakLeft.png", duration: 100},
                {src: "browserfrog/MidCroakLeft.png", duration: 100},
                {src: "browserfrog/Left.png", duration: 100}
            ],
            CroakRight: [
                {src: "browserfrog/Right.png", duration: 100},
                {src: "browserfrog/MidCroakRight.png", duration: 100},
                {src: "browserfrog/MaxCroakRight.png", duration: 100},
                {src: "browserfrog/MidCroakRight.png", duration: 100},
                {src: "browserfrog/Right.png", duration: 100}
            ],
            JumpLeft: [
                {src: "browserfrog/Left.png", duration: 50},
                {src: "browserfrog/JumpUpLeft.png", duration: 100},
                {src: "browserfrog/FallDownLeft.png", duration: 100},
                {src: "browserfrog/Left.png", duration: 100}
            ],
            JumpRight: [
                {src: "browserfrog/Right.png", duration: 25},
                {src: "browserfrog/JumpUpRight.png", duration: 100},
                {src: "browserfrog/FallDownRight.png", duration: 100},
                {src: "browserfrog/Right.png", duration: 100}
            ],
            Blink: [
                {src: "browserfrog/Idle.png", duration: 100},
                {src: "browserfrog/Blink.png", duration: 100},
                {src: "browserfrog/Idle.png", duration: 100}
            ],
            Croak: [
                {src: "browserfrog/Idle.png", duration: 100},
                {src: "browserfrog/MidCroak.png", duration: 100},
                {src: "browserfrog/MaxCroak.png", duration: 100},
                {src: "browserfrog/MidCroak.png", duration: 100},
                {src: "browserfrog/Idle.png", duration: 100}
            ],
            Tongue: [
                {src: "browserfrog/Idle.png", duration: 70},
                {src: "browserfrog/LipUp.png", duration: 70},
                {src: "browserfrog/TongueBounce.png", duration: 70},
                {src: "browserfrog/Tongue.png", duration: 70}
            ],
            Smile: [
                {src: "browserfrog/Smile.png", duration: 100},
            ],
            Ribbit: [
                {src: "browserfrog/Idle.png", duration: 100},
                {src: "browserfrog/Smile.png", duration: 50},
                {src: "browserfrog/WideRibbit.png", duration: 100},
                {src: "browserfrog/MidRibbit.png", duration: 100},
                {src: "browserfrog/SmallRibbit.png", duration: 50},
                {src: "browserfrog/Idle.png", duration: 100}
            ]
        };

        let currentStates = ['browserfrog/Idle.png', 'browserfrog/Idle.png', 'browserfrog/Idle.png'];
        let facings = ['viewer', 'viewer', 'viewer'];
        let currentFrameStarts = [Date.now(), Date.now(), Date.now()];
        let verticalDraggingEnabled = true;

        Object.values(animations).flat().forEach(frame => {
            const img = new Image();
            img.src = frame.src;
        });

        const numberOfFrogs = Math.random() < 0.1 ? 3 : 2;

        const verticalPosition = Math.max(window.innerHeight - 129, 0);
        frogContainers.forEach((container, index) => {
            if (index < numberOfFrogs) {
                let horizontalPosition;
                let attempts = 0;
                do {
                    horizontalPosition = Math.random() * Math.max(window.innerWidth - 150, 0);
                    attempts++;
                } while (isTooCloseToOtherFrog(horizontalPosition, index) && attempts < 100);
                container.style.left = `${horizontalPosition}px`;
                container.style.top = `${verticalPosition}px`;
                container.style.display = 'block';
                container.addEventListener('mousedown', (event) => {
                    startDrag(event, container);
                });
                        }
        });

        function isTooCloseToOtherFrog(position, currentIndex) {
            const minDistance = 150;
            for (let i = 0; i < currentIndex; i++) {
                const rect = frogContainers[i].getBoundingClientRect();
                const distance = Math.abs(position - rect.left);
                if (distance < minDistance) {
                    return true;
                }
            }
            return false;
        }

        function getRandomElement(arr) {
            return arr[Math.floor(Math.random() * arr.length)];
        }

        function transitionTo(index, animation) {
            currentStates[index] = animation[0].src;
            let frameIndex = 0;

            const nextFrame = () => {
                const frame = animation[frameIndex];
                const newFrogElement = document.createElement('img');
                newFrogElement.src = isDarkMode ? frame.src.replace('.png', 'Dark.png') : frame.src;
                newFrogElement.className = 'frog';
                newFrogElement.onload = () => {
                    const oldFrogElement = frogContainers[index].querySelector('.frog');
                    if (oldFrogElement) {
                        frogContainers[index].removeChild(oldFrogElement);
                    }
                    frogContainers[index].appendChild(newFrogElement);
                };

                if (frameIndex < animation.length - 1) {
                    frameIndex++;
                    setTimeout(nextFrame, frame.duration);
                }
            };

            nextFrame();
        }

        function moveFrog(index) {
            const actions = ['faceRight', 'faceLeft', 'doViewerAction'];
            const action = getRandomElement(actions);

            if (action === 'faceRight' && facings[index] !== 'right') {
                if (facings[index] === 'left') {
                    transitionTo(index, animations.LeftReturn);
                    setTimeout(() => {
                        transitionTo(index, animations.TurnRight);
                        facings[index] = 'right';
                        setTimeout(() => {
                            const rightActions = ['CroakRight', 'JumpRight'];
                            const nextAction = getRandomElement(rightActions);
                            transitionTo(index, animations[nextAction]);
                            if (nextAction === 'JumpRight') {
                                jumpFrog(index, 10, 'right');
                            }
                        }, 300);
                    }, 300);
                } else {
                    transitionTo(index, animations.TurnRight);
                    facings[index] = 'right';
                    setTimeout(() => {
                        const rightActions = ['CroakRight', 'JumpRight'];
                        const nextAction = getRandomElement(rightActions);
                        transitionTo(index, animations[nextAction]);
                        if (nextAction === 'JumpRight') {
                            jumpFrog(index, 10, 'right');
                        }
                    }, 300);
                }
            }

            if (action === 'faceLeft' && facings[index] !== 'left') {
                if (facings[index] === 'right') {
                    transitionTo(index, animations.RightReturn);
                    setTimeout(() => {
                        transitionTo(index, animations.TurnLeft);
                        facings[index] = 'left';
                        setTimeout(() => {
                            const leftActions = ['CroakLeft', 'JumpLeft'];
                            const nextAction = getRandomElement(leftActions);
                            transitionTo(index, animations[nextAction]);
                            if (nextAction === 'JumpLeft') {
                                jumpFrog(index, 10, 'left');
                            }
                        }, 300);
                    }, 300);
                } else {
                    transitionTo(index, animations.TurnLeft);
                    facings[index] = 'left';
                    setTimeout(() => {
                        const leftActions = ['CroakLeft', 'JumpLeft'];
                        const nextAction = getRandomElement(leftActions);
                        transitionTo(index, animations[nextAction]);
                        if (nextAction === 'JumpLeft') {
                            jumpFrog(index, 10, 'left');
                        }
                    }, 300);
                }
            }

            if (action === 'doViewerAction') {
                if (facings[index] === 'right') {
                    transitionTo(index, animations.RightReturn);
                    setTimeout(() => {
                        performViewerAction(index);
                        facings[index] = 'viewer';
                    }, 300);
                } else if (facings[index] === 'left') {
                    transitionTo(index, animations.LeftReturn);
                    setTimeout(() => {
                        performViewerAction(index);
                        facings[index] = 'viewer';
                    }, 300);
                } else {
                    performViewerAction(index);
                }
            }

            setTimeout(() => moveFrog(index), Math.random() * 3000 + 2000);
        }

        function performViewerAction(index) {
            const viewerActions = ['Blink', 'Croak', 'Tongue', 'Smile', 'Ribbit', 'browserfrog/FrogLoad.gif', 'browserfrog/TalkMore.gif'];
            const action = getRandomElement(viewerActions);

            if (action === 'browserfrog/FrogLoad.gif' || action === 'browserfrog/TalkMore.gif') {
                const newFrogElement = document.createElement('img');
                newFrogElement.src = action.replace('.gif', isDarkMode ? 'Dark.gif' : '.gif');
                newFrogElement.className = 'frog';
                newFrogElement.onload = () => {
                    const oldFrogElement = frogContainers[index].querySelector('.frog');
                    if (oldFrogElement) {
                        frogContainers[index].removeChild(oldFrogElement);
                    }
                    frogContainers[index].appendChild(newFrogElement);
                };
            } else {
                transitionTo(index, animations[action]);
            }
        }

        function jumpFrog(index, pixels, direction) {
            let movedPixels = 0;
            const interval = setInterval(() => {
                if (movedPixels < pixels) {
                    const currentLeft = parseInt(frogContainers[index].style.left, 10);
                    if (direction === 'right') {
                        frogContainers[index].style.left = `${currentLeft + 3}px`;
                    } else {
                        frogContainers[index].style.left = `${currentLeft - 3}px`;
                    }
                    movedPixels++;
                } else {
                    clearInterval(interval);
                }
            }, 10);
        }

        function startDrag(event, container) {
            const containerRect = container.getBoundingClientRect();
            const initialX = event.clientX || event.touches[0].clientX;
            const initialY = event.clientY || event.touches[0].clientY;
            const offsetX = initialX - containerRect.left;
            const offsetY = initialY - (containerRect.top + containerRect.height / 2);
            let originalTop = parseInt(container.style.top) || containerRect.top;

            function handleDragMove(event) {
                const moveX = event.clientX || event.touches[0].clientX;
                const moveY = event.clientY || event.touches[0].clientY;

                const newX = moveX - offsetX;
                let newY = moveY - offsetY;

                if (!verticalDraggingEnabled) {
                    newY = originalTop;
                } else {
                    originalTop = newY;
                }

                const maxX = window.innerWidth - containerRect.width;
                const maxY = window.innerHeight - containerRect.height;
                const clampedX = Math.min(Math.max(newX, 0), maxX);
                const clampedY = Math.min(Math.max(newY, 0), maxY);

                container.style.left = clampedX + 'px';
                container.style.top = clampedY + 'px';

                event.preventDefault();
            }

            function handleDragEnd() {
                document.removeEventListener('mousemove', handleDragMove);
                document.removeEventListener('mouseup', handleDragEnd);
                document.removeEventListener('touchmove', handleDragMove);
                document.removeEventListener('touchend', handleDragEnd);
            }

            document.addEventListener('mousemove', handleDragMove);
            document.addEventListener('mouseup', handleDragEnd);
            document.addEventListener('touchmove', handleDragMove);
            document.addEventListener('touchend', handleDragEnd);

            event.preventDefault();
        }

        frogContainers.forEach((container) => {
            container.addEventListener('mousedown', (event) => {
                startDrag(event, container);
            });
            container.addEventListener('touchstart', (event) => {
                startDrag(event, container);
            });
        });

        window.onload = () => {
            for (let i = 0; i < numberOfFrogs; i++) {
                moveFrog(i);
            }
            applyDarkMode();
        };

        document.getElementById('toggleVerticalDragging').addEventListener('click', () => {
            verticalDraggingEnabled = !verticalDraggingEnabled;
            frogContainers.forEach((container, index) => {
                container.style.top = `${verticalPosition}px`;
            });
        });
		
		
		

        let lastZoomLevel = window.devicePixelRatio;

        function checkZoomLevel() {
            if (window.devicePixelRatio !== lastZoomLevel) {
                document.getElementById('refreshButton').style.display = 'block';
                lastZoomLevel = window.devicePixelRatio;
            }
        }

        window.addEventListener('resize', checkZoomLevel);
		
		
		
		

let isDarkMode = localStorage.getItem('isDarkMode') === 'true';
const darkModeToggle = document.getElementById('darkModeToggle');

function applyDarkMode() {
    document.body.classList.toggle('dark-mode', isDarkMode);

    const images = document.querySelectorAll('img');
    images.forEach(image => {
        const originalSrc = image.dataset.originalSrc || image.src;
        let newSrc = originalSrc;
        if (isDarkMode) {
            if (originalSrc.includes('Dark')) {
                newSrc = originalSrc;
            } else {
                newSrc = originalSrc.replace('.png', 'Dark.png');
            }
        } else {
            if (originalSrc.includes('Dark')) {
                newSrc = originalSrc.replace('Dark.png', '.png');
            } else {
                newSrc = originalSrc;
            }
        }
        image.src = newSrc;
        if (isDarkMode) {
            image.dataset.originalSrc = originalSrc;
        } else {
            image.removeAttribute('data-original-src');
        }
    });
}

darkModeToggle.addEventListener('click', () => {
    isDarkMode = !isDarkMode;
    localStorage.setItem('isDarkMode', isDarkMode);
    applyDarkMode();
});

applyDarkMode();

		
		
		
		
		
		
        window.onload = () => {
            if (isDarkMode) {
                document.body.classList.add('dark-mode');
            }
            for (let i = 0; i < numberOfFrogs; i++) {
                moveFrog(i);
            }
        };
		

    </script>
</body>
</html>
